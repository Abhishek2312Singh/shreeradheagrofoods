/* Mobile Navigation Cross-Platform Fixes - Minimal Approach */

/* iOS Safari specific fixes */
@supports (-webkit-touch-callout: none) {
  /* iOS Safari specific styles */
  .modern-nav {
    -webkit-overflow-scrolling: touch;
    -webkit-transform: translateZ(0);
    transform: translateZ(0);
  }
  
  .mobile-nav-toggle {
    -webkit-tap-highlight-color: transparent;
    -webkit-touch-callout: none;
    -webkit-user-select: none;
    user-select: none;
  }
  
  /* Fix iOS Safari viewport issues */
  .modern-header {
    -webkit-transform: translateZ(0);
    transform: translateZ(0);
  }
  
  /* Prevent iOS Safari zoom on input focus */
  input, select, textarea {
    font-size: 16px !important;
  }
}

/* Android Chrome specific fixes */
@supports not (-webkit-touch-callout: none) {
  .modern-nav {
    -webkit-overflow-scrolling: auto;
  }
  
  .mobile-nav-toggle {
    -webkit-tap-highlight-color: rgba(0, 0, 0, 0.1);
  }
}

/* Universal mobile navigation fixes - Only essential fixes */
@media (max-width: 1199px) {
  /* Prevent horizontal scrolling */
  body {
    overflow-x: hidden;
    -webkit-overflow-scrolling: touch;
  }
  
  /* Improve touch handling for mobile nav toggle */
  .mobile-nav-toggle {
    -webkit-tap-highlight-color: transparent !important;
    touch-action: manipulation !important;
    cursor: pointer !important;
  }
  
  /* Improve touch handling for mobile nav links */
  .modern-nav a {
    -webkit-tap-highlight-color: transparent !important;
    touch-action: manipulation !important;
  }
  
  /* Prevent body scroll when mobile nav is open */
  body.nav-open {
    overflow: hidden !important;
    position: fixed !important;
    width: 100% !important;
    height: 100% !important;
  }
  
  /* iOS Safari specific body scroll prevention */
  @supports (-webkit-touch-callout: none) {
    body.nav-open {
      -webkit-overflow-scrolling: auto !important;
    }
  }
  
  /* Ensure proper touch targets for mobile */
  .modern-nav a {
    min-height: 44px !important;
    display: flex !important;
    align-items: center !important;
  }
  
  .mobile-nav-toggle {
    min-height: 44px !important;
    min-width: 44px !important;
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
  }
  
  .modern-nav .dropdown-menu a {
    min-height: 40px !important;
    display: flex !important;
    align-items: center !important;
  }
}

/* High DPI display fixes */
@media (-webkit-min-device-pixel-ratio: 2), (min-resolution: 192dpi) {
  .modern-nav {
    -webkit-font-smoothing: antialiased !important;
    -moz-osx-font-smoothing: grayscale !important;
  }
}
